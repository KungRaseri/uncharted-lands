# SonarQube Configuration for Uncharted Lands
# Based on: https://docs.sonarsource.com/sonarqube-server/project-administration/setting-analysis-scope

# Project identification
sonar.projectKey=KungRaseri_uncharted-lands
sonar.organization=kungraseri

# Source directories (clean separation from tests)
sonar.sources=src

# Test directories (files here are AUTOMATICALLY excluded from duplication)
sonar.tests=tests

# Explicitly exclude test directory and non-source files
sonar.exclusions=\
  **/node_modules/**,\
  **/dist/**,\
  **/build/**,\
  **/coverage/**,\
  **/*.config.js,\
  **/*.config.ts

# Duplication exclusions (explicit test patterns)
sonar.cpd.exclusions=\
  tests/**,\
  **/*.test.ts,\
  **/*.spec.ts

# Test file patterns
sonar.test.inclusions=**/*.test.ts,**/*.spec.ts

# Coverage report paths
sonar.javascript.lcov.reportPaths=coverage/lcov.info

# Coverage thresholds
# Client is UI-heavy SvelteKit app - focus on business logic
# UI components are covered by E2E tests (Playwright)
sonar.coverage.overall_line.min=30
sonar.coverage.overall_branch.min=25

# TypeScript/JavaScript settings
sonar.typescript.tsconfigPath=tsconfig.json
